var bookingFolder="/rentals";function submitForm(){if($("#refineForm").find("[value=details-datepicker]").val()){$("#APIresponse").html('<div class="cssload-container"><div class="cssload-spinner"></div></div>');var e=$("#refineForm").find("input[name=strcheckin]").val(),t=$("#refineForm").find("input[name=strcheckout]").val();$("form#propertyContactForm input#hiddenstrcheckin").val(e),$("form#propertyContactForm input#hiddenstrcheckout").val(t),$.ajax({type:"POST",url:bookingFolder+"/ajax/get-pdp-rates.cfm",data:$("#refineForm").serialize(),success:function(e){var t=$.trim(e);"No"==t?$("#APIresponse").html('<div class="alert alert-danger">Sorry, this property is not available for the selected dates.</div>').show():"API Error"==t?$("#APIresponse").html('<div class="alert alert-danger">Sorry, there was a problem retrieving availability info for this property.</div>').show():$("#APIresponse").html(e).show()}})}return!1}$(document).ready(function(){$("#propertyImage");var e=$("#propertyMap"),t=$("#propertyTour");if($("#propertyImage").length&&($("#propertyImage > img").delay(500).fadeIn(800),$("#propertyImage > img").on("click",function(){o.eq(0).click()})),$(".hidden-gallery").length){var o=$("#hiddenGallery").find("a");$("#propertyGalleryBtn").on("click",function(){o.eq(0).click()})}function a(){$(window).scrollTop()>$("#propertyTabsAnchor").offset().top?($("#propertyTabs").addClass("fixed"),$("#propertyTabsAnchor").height($("#propertyTabs").outerHeight()),$("#returnToTop").fadeIn(250)):($("#propertyTabs").removeClass("fixed"),$("#propertyTabsAnchor").height(0),$("#returnToTop").fadeOut(250))}$("#propertyMapBtn").length&&$("#propertyMapBtn").on("click",function(){e.toggleClass("active"),t.removeClass("active");$(this).toggleClass("inactive");$(this).toggleClass("active"),$(this).hasClass("inactive")?$(this).html('<i class="fa fa-map-marker"></i> <span>View Map</span>'):($(this).html('<i class="fa fa-close"></i> <span>Hide Map</span>'),$("#propertyTour iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")),$("#propertyTourBtn").hasClass("active")&&$("#propertyTourBtn").removeClass("active").addClass("inactive").html('<i class="fa fa-video-camera"></i> <span>View Tour</span>')}),$("#propertyTourBtn").length&&$("#propertyTourBtn").on("click",function(){t.toggleClass("active"),e.removeClass("active");$(this).toggleClass("inactive");$(this).toggleClass("active"),$(this).hasClass("inactive")?($(this).html('<i class="fa fa-video-camera"></i> <span>View Tour</span>'),$("#propertyTour iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")):($(this).html('<i class="fa fa-close"></i> <span>Hide Tour</span>'),$("#propertyTour iframe")[0].contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")),$("#propertyMapBtn").hasClass("active")&&$("#propertyMapBtn").removeClass("active").addClass("inactive").html('<i class="fa fa-map-marker"></i> <span>View Map</span>')}),$(function(){$(window).scroll(a),a()});var r=$(".info-wrap"),i=$("#propertyTabs"),n=i.outerHeight();function s(){var e=$(window).scrollTop(),t=$("#travelDatesAnchor").offset().top;$("#travelDates");e>t?($("#travelDates").addClass("fixed"),$("#travelDatesAnchor").height($("#travelDates").outerHeight())):($("#travelDates").removeClass("fixed"),$("#travelDatesAnchor").height(0))}i.find("a").on("click",function(){var e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top-n+2},800),!1}),$(window).on("scroll",function(){var e=$(this).scrollTop();r.each(function(){var t=$(this).offset().top-n,o=t+$(this).outerHeight();e>=t&&e<=o?(i.find("a").removeClass("active"),r.removeClass("active"),$(this).addClass("active"),i.find('a[href="#'+$(this).attr("id")+'"]').addClass("active")):$(window).scrollTop()+$(window).height()==$(document).height()&&(i.find("a").removeClass("active"),r.removeClass("active"),$(this).addClass("active"),i.find('a[href="#'+$(this).attr("id")+'"]').addClass("active"))})}),$("#PriceAlert-StartAlerts").datepicker({beforeShow:function(e){$("#PriceAlert-StartAlerts-Datepicker-Container").append($("#ui-datepicker-div"))}}),$("#PriceAlert-EndAlerts").datepicker({beforeShow:function(e){$("#PriceAlert-EndAlerts-Datepicker-Container").append($("#ui-datepicker-div"))}}),$("#CancelationNotification-StartDate").datepicker({beforeShow:function(e){$("#CancelationNotification-StartDate-Datepicker-Container").append($("#ui-datepicker-div"))}}),$("#CancelationNotification-EndDate").datepicker({beforeShow:function(e){$("#CancelationNotification-EndDate-Datepicker-Container").append($("#ui-datepicker-div"))}}),$(".notify-btn").on("click",function(){var e=$(this).data("start-date"),t=$(this).data("end-date");$("#CancelationNotification-StartDate").datepicker("setDate",e),$("#CancelationNotification-EndDate").datepicker("setDate",t)}),$(".cancelation-notification-btn").on("click",function(){$("#CancelationNotification-FirstName").val(""),$("#CancelationNotification-Email").val(""),$("#CancelationNotification-StartDate").val(""),$("#CancelationNotification-EndDate").val(""),$("#CancelationNotification-FlexibleDates-0").prop("checked",!0)}),$(window).width()<1024&&$(".calendar-table").on("click",function(){$("body").addClass("no-scroll travel-dates-active"),$("#travelDates").fadeToggle().addClass("active")}),$("#propertyReviewForm").length&&($("form#propertyReviewForm").validate({submitHandler:function(e){return $.ajax({type:"POST",url:bookingFolder+"/_submit.cfm",data:$("form#propertyReviewForm").serialize(),dataType:"text",beforeSend:function(){$(".review-form button[type=submit]").find(".btn-text").hide(),$(".review-form button[type=submit]").find(".btn-loading-text").show()},success:function(e){e=$.trim(e),console.log(e),"success"===e?($("form#propertyReviewForm").hide(),$("#propertyReviewFormMSG").html("<font color='green'>Thanks! Your review has been submitted for approval.</font>")):($(".review-form button[type=submit]").find(".btn-text").show(),$(".review-form button[type=submit]").find(".btn-loading-text").hide(),$("form#propertyReviewForm div.g-recaptcha-error").html("<font color='red'>You must complete the reCAPTCHA</font>"))}}),!1}}),$("#reviewCheckInDate").datepicker({beforeShow:function(e){$("#reviewDatepickerCheckin").append($("#ui-datepicker-div"))},onSelect:function(){var e=$(this).datepicker("getDate");e.setDate(e.getDate()+1),$("#reviewCheckOutDate").datepicker("option","minDate",e),setTimeout(function(){$("#reviewCheckOutDate").datepicker("show")},16)}}),$("#reviewCheckOutDate").datepicker({beforeShow:function(e){$("#reviewDatepickerCheckout").append($("#ui-datepicker-div"))}})),$("#propertyQandAForm").length&&$("form#propertyQandAForm").validate({submitHandler:function(e){return $.ajax({type:"POST",url:bookingFolder+"/_submit.cfm",data:$("form#propertyQandAForm").serialize(),dataType:"text",beforeSend:function(){$("button[type=submit]").find(".btn-text").hide(),$("button[type=submit]").find(".btn-loading-text").show()},success:function(e){e=$.trim(e),console.log(e),"success"===e?($("form#propertyQandAForm").hide(),$("#propertyQandAFormMSG").html("<font color='green'>Thanks! Your question has been sent for review! Close this window to continue browsing the website.</font>")):($("button[type=submit]").find(".btn-text").show(),$("button[type=submit]").find(".btn-loading-text").hide(),$("form#propertyQandAForm div.g-recaptcha-error").html("<font color='red'>You must complete the reCAPTCHA</font>"))}}),!1}}),$("#propertyContactForm").length&&$("form#propertyContactForm").validate({submitHandler:function(e){return $.ajax({type:"POST",url:bookingFolder+"/_submit.cfm",data:$("form#propertyContactForm").serialize(),dataType:"text",beforeSend:function(){$(".contact-form button[type=submit]").find(".btn-text").hide(),$(".contact-form button[type=submit]").find(".btn-loading-text").show()},success:function(e){e=$.trim(e),console.log(e),"success"===e?($("form#propertyContactForm").hide(),$("#propertyContactFormMSG").html("<font color='green'>Thanks! Your email has been sent!</font>")):($(".contact-form button[type=submit]").find(".btn-text").show(),$(".contact-form button[type=submit]").find(".btn-loading-text").hide(),$("form#propertyContactForm div.g-recaptcha-error").html("<font color='red'>You must complete the reCAPTCHA</font>"))}}),!1}}),$(function(){$(window).scroll(s),s()}),$("#selectDates").length&&$("#selectDates").on("click",function(){$("#startDateDetail").datepicker("show")}),$("#requestInfoBtn").on("click",function(){return $("html, body").animate({scrollTop:$("#inquire").offset().top-45},1600),!1}),$("#travelDates").length&&($("#mobileDatesToggle").on("click",function(){$("body").addClass("no-scroll travel-dates-active"),$("#travelDates").fadeToggle().addClass("active")}),$("#mobileClose").on("click",function(){$("body").removeClass("no-scroll travel-dates-active"),$("#travelDates").fadeToggle().removeClass("active")})),$(window).width()<1024&&$("#splitCostCalc, #requestInfoBtn").on("click",function(){$("body").removeClass("no-scroll travel-dates-active"),$("#travelDates").fadeToggle().removeClass("active")}),$("#returnToTop").on("click",function(){return $("html, body").animate({scrollTop:0},800),!1})});